/*
 * Body Copy
 */

//--- Stock link color 

%copy-links {
  a {
    color: palette(blue);
    transition: color .2s $ease-out-cubic;
    
    &:visited {
      color: desaturate( palette(blue), 50%);
    }
    
    &:hover, 
    &:focus {
      color: palette(blue, mid-light);
    }
    
    &:active {
      color: palette(blue, light); 
    }
  }
}

//--- Stock link colors around linked images
// Keep this separate so you can extend %copy-links without all the image requirements
%copy-linked-images {
  a {
    img {
      border-color: palette(blue);
      transition: border-color .2s $ease-out-cubic;   
    }
    
    &:visited img {
      border-color: desaturate( palette(blue), 50%);
    }
    
    &:hover, &:focus {
      img { border-color: palette(blue, mid-light); }
    }
    
    &:active img {
      border-color: palette(blue, light);
    }
  }
}

.copy-spacing {
  @extend %copy-margins;
}

.copy {
  line-height: $copy-line-height;
  
  @extend %copy-links;
  @extend %copy-linked-images;
  
  // Eliminate possible top margin
  > *:first-child {
    margin-top: 0;
  }
  
  // Eliminate possible bottom margin on last child
  > *:last-child {
    margin-bottom: 0;
  }

  $copy-header-border-width: 8px;

  > h1,
  > h2,
  > h3,
  > h4,
  > h5,
  > h6 {
    //font-weight: 500; // semibold
    font-weight: 400; // normal
    margin-top: .71em;
    margin-bottom: .6em;
    border-left: $copy-header-border-width solid;
    padding-left: $main-padding-sides - $copy-header-border-width;
    margin-left: -$main-padding-sides;
    
    @include respond-to(desk-up) {
      padding-left: $main-padding-sides-large - $copy-header-border-width;
      margin-left: -$main-padding-sides-large;
    }
    
    //
    // Inline subheads
    // use <small> in the heading. Done!
    //
    > small {
      color: #777;
      vertical-align: baseline;
      font-size: 0.7071em;
    }
  }
  
  //
  // BASIC HEADINGS
  //
  > h6 {
    @extend %text-size-m;
    border-color: palette(blue,x-light);
    @include respond-to(hand-only) { @include text-size-s; }
  }
  
  > h5 {
    @extend %text-size-l;
    border-color: palette(blue,light);
    @include respond-to(hand-only) { @include text-size-m; }
  }
  
  > h4 {
    @extend %text-size-xl;
    border-color: palette(blue,mid-light);
    @include respond-to(hand-only) { @include text-size-l; }
  }
  
  > h3 {
    @extend %text-size-xxl;
    border-color: palette(blue);
    @include respond-to(hand-only) { @include text-size-xl; }
  }
  
  > h2 {
    @extend %text-size-xxxl;
    border-color: palette(blue,mid-dark);
    @include respond-to(hand-only) {  @include text-size-xxl; }
  }
  
  > h1 {
    @extend %text-size-xxxxl;
    border-color: palette(blue,dark);
    @include respond-to(hand-only) { @include text-size-xxxl; }
  }
  
  > .godzilla {
    @extend %text-size-xxxxxl;
    border-color: palette(blue,x-dark);
    @include respond-to(hand-only) { @include text-size-xxxxl; }
  }
      
  > table {
    @extend %copy-margins;
    @extend %table;
  }
  
  > .fluid-video {
    @extend %copy-margins;
  }
  
  //
  // ORDERED & UNORDERED LISTS
  // 
  // Careful! Don't want to get too specific with these.
  //
  > ul,
  > ol {
    // keep this to direct children only
    @extend %copy-margins;
    
    // reduce the default indentation
    @include rem(padding-left, 24px);

    // affects all children ol/ul
    ol, ul {
      @include rem(padding-left, 24px);
    }
    
  } 

  // some extra spacing between list items
  // be careful here, this selector might come back to bite you
  li { 
    @include rem(margin-bottom, 6px); 
    @include rem(margin-top, 6px);
    @extend %readable;
  }
    
  > p {
    @extend %copy-margins;
    @extend %readable;
  }
  
  > blockquote {
    @extend %copy-margins;
    @extend %readable;
    margin-left: 0;
    border-left: 3px solid palette(gray,light);
    font-style: italic;
    padding-left: 1em;
  }
   
  img {
    border: 2px solid palette(gray, light);
  }
      
  
  // www.pathf.com/blogs/2008/05/formatting-quoted-code-in-blog-posts-css21-white-space-pre-wrap/
  pre, code, tt {
    font-family: monospace;
    white-space: pre; 
    // UPDATE: going to try overflow instead
    //white-space: pre-wrap; 
    
    background-color: lighten( palette(gold, x-light), 4%);
  }
  
  pre {
    // These last two make sure things that aren't very word-like, like URLs, break
    // UPDATE: with JS Compactor and overflow, gonna skip this
    //word-wrap: break-word;
    //word-break: break-all;
    
    @extend %copy-margins;
    overflow: auto;
    @include rem(padding, 8px);
    border-top: solid 2px palette(gold, light);
  }

  
}