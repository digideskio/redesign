/**
 * Define the ranges
 * Borrowed the idea shamelessly from http://foundation.zurb.com/docs/media-queries.html
 * Modified with some different terms
 */
$hand-range: ( 0em, 40em ); // 0â€“640px
$knee-range: ( 641/16 * 1em, 64em ); // 641-1024px
$desk-range: ( 1025/16 * 1em, 90em ); // 1025-1440px
$workstation-range: ( 1441/16 * 1em, 120em ); // 1441-1920px
$neckbeard-range: ( 1921/16 * 1em ); // 1921px


//
// @functions
//

@function lower-bound($range){
  @if length($range) <= 0 {
    @return 0;
  }
  @return nth($range,1);
}

@function upper-bound($range) {
  @if length($range) < 2 {
    @return 999999999999;
  }
  @return nth($range, 2);
}


/**
 * Set up some Media Queries
 * And get them in a SASS map (3.3+) for easy reference
 */

// these two get repeated
$screen: "only screen" !default;
$neckbeard-up: "#{$screen} and (min-width:#{lower-bound($neckbeard-range)})" !default;


$mediaqueries: (
  screen: $screen,

  landscape: "#{$screen} and (orientation: landscape)",
  portrait: "#{$screen} and (orientation: portrait)",

  hand-up: $screen,
  hand-only: "#{$screen} and (max-width: #{upper-bound($hand-range)})",

  knee-up: "#{$screen} and (min-width:#{lower-bound($knee-range)})",
  knee-only: "#{$screen} and (min-width:#{lower-bound($knee-range)}) and (max-width:#{upper-bound($knee-range)})",
  knee-down: "#{$screen} and (max-width:#{upper-bound($knee-range)})",

  desk-up: "#{$screen} and (min-width:#{lower-bound($desk-range)})",
  desk-only: "#{$screen} and (min-width:#{lower-bound($desk-range)}) and (max-width:#{upper-bound($desk-range)})",

  workstation-up: "#{$screen} and (min-width:#{lower-bound($workstation-range)})",
  workstation-only: "#{$screen} and (min-width:#{lower-bound($workstation-range)}) and (max-width:#{upper-bound($workstation-range)})",

  neckbeard-up: $neckbeard-up,
  neckbeard-only: $neckbeard-up
);


/**
 * Mixin for bubbling up media queries
 * Syntax sugar for the MQs defined above
 * 
 * See:
 *  - http://css-tricks.com/media-queries-sass-3-2-and-codekit/
 *  - http://jeffcroft.com/blog/2012/mar/02/implementing-responsive-design/
 *  - http://erskinedesign.com/blog/friendlier-colour-names-sass-maps/
 */
@mixin respond-to($point) {

  // alternate syntax for Bourbon HiDPI mixin
  @if $point == retina {
    @include hidpi(1.3) { @content };
  } @else {
    @media #{map-get($mediaqueries, $point)} { @content }
  }

}