$(document).ready(function(){var e=window.toggleMembershipOptions;if(e){var n=e.workgroupCategory,i=e.isWorkgroupMember;$.ajax({url:e.changeMembershipFormUrl,success:function(a){var t=$("#member_categories_form",a),o=$('input[value="'+n+'"]',t),r=[],s,d,c=$(e.placeholder);$('input[name="RET"]',t).val(window.location.href),t.find("input:checked").each(function(){r.push($(this).val())}),s=$.inArray(n,r),s>0&&r.splice(s,1),t.css({display:"none",visibility:"hidden"}).on("submit",function(){var e=[],i,a;return t.find("input:checked").each(function(){e.push($(this).val())}),i=$.inArray(n,e),i>0&&e.splice(i,1),a=0===$(r).not(e).length&&0===$(e).not(r).length,!a&&alert("hey sneaky! whatchu doin to my form?"),a}),d=$(document.createElement("a")).addClass("btn "+(i?"bad":"good")).attr({href:"#",id:"change_user_group_membership"}).html((i?"Leave":"Join")+" this User Group").appendTo(c),c.on("click",function(e){e.preventDefault(),o.prop("checked",!o.prop("checked")),d.addClass("disabled").prop("disabled",!0).html("Submitting&hellip;"),t.appendTo("body").submit(),setTimeout(function(){OSLC.addMessage('Something went wrong! If it happens again, contact <a href="mailto:webmaster@open-services.net">the site admin</a>.',"Ooops!","error"),d.removeClass("disabled").prop("disabled",!1).html("Try again")},25e3)})}})}});