$(document).ready(function(){var e=window.toggleMembershipOptions;if(e){var t=e.workgroupCategory,i=e.isWorkgroupMember,a=function(){return $(this).val()};$.ajax({url:e.changeMembershipFormUrl,success:function(n){var o=$("#member_categories_form",n),r=$('input[value="'+t+'"]',o),s=o.find("input:checked").map(a).get(),d,p=$(e.placeholder);$('input[name="RET"]',o).val(window.location.href),s=_.without(s,t),o.css({display:"none",visibility:"hidden"}).on("submit",function(){var e=o.find("input:checked").map(a).get(),i;return e=_.without(e,t),i=_.isEqual(s,e),i||alert("hey sneaky! whatchu doin to my form?"),i}),d=$(document.createElement("a")).addClass("btn "+(i?"bad":"good")).attr({href:"#",id:"change_user_group_membership"}).html((i?"Leave":"Join")+" this User Group").appendTo(p),p.on("click",function(e){e.preventDefault(),r.prop("checked",!r.prop("checked")),d.addClass("disabled").prop("disabled",!0).html("Submitting&hellip;"),o.appendTo("body").submit(),setTimeout(function(){OSLC.addMessage('Something went wrong! If it happens again, contact <a href="mailto:webmaster@open-services.net">the site admin</a>.',"Ooops!","error"),d.removeClass("disabled").prop("disabled",!1).html("Try again")},25e3)})}})}});