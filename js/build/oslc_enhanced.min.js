window.console||(window.console={log:function(){}}),$.fn.toggleAria=function(t){return this.each(function(){var i=$(this),s="aria-"+t,e=i.attr(s);i.attr(s,"true"===e?"false":"true")})};var OSLC={mediaQueries:{},modules:{},transitionEventNames:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"}};_.forEach(["screen","landscape","portrait","hand-up","hand-only","knee-up","knee-only","desk-up","desk-only","workstation-up","workstation-only","neckbeard-up","neckbeard-only"],function(t){$("head").append('<meta class="oslc-mq-'+t+'" />'),OSLC.mediaQueries[t]=$(".oslc-mq-"+t).css("font-family").split(/\/|\\|'|"/g).join("")}),OSLC.supportsTransitions=Modernizr&&"csstransitions"in Modernizr&&Modernizr.csstransitions&&{end:OSLC.transitionEventNames[Modernizr.prefixed("transition")]},OSLC.supportsAcceleratedTransitions=Modernizr&&"csstransforms3d"in Modernizr&&Modernizr.csstransforms3d,$(document).on("click","[data-toggle-class]",function(t){var i=$(this);i.attr("data-target")&&(_.forEach(i.attr("data-target").split(","),function(t){var s;s=t.indexOf("|self|")>-1?i:t.indexOf("|parent")>-1?i.parent():$(t),s.length&&s.toggleClass(i.attr("data-toggle-class").split(".").join(""))}),t.preventDefault())}),$(function(){var t=_.template('<div class="fluid-video" <%= style %> ><%= video %></div>');$('iframe[src*="youtube"], iframe[src*="vimeo"]').not(".no-resize").each(function(i,s){s.outerHTML=t({style:'style="padding-bottom: '+s.height/s.width*100+'%;"',video:s.outerHTML})})}),function(t,i,s,e){"use strict";var n=_.create(OSLC,{els:{nav:t("#nav"),main:t("#main"),toggle:t("#navToggle"),allToggled:t("#nav,#main,#navToggle,.close-nav"),close:t(".close-nav")},classes:{open:"nav-is-open"},is_open:function(){return this.els.main.hasClass(this.classes.open)},init:function(){this.els.nav.insertBefore(this.els.main),this.set_main_slide_distance(),this.bindings()},bindings:function(){var s=this;this.els.toggle.add(this.els.close).on("click.oslc.sextant",function(t){t.preventDefault(),s.toggle()});var e=_.once(function(){console.log("doing the one-time injection in case we started too large"),s.set_main_slide_distance(),t(i).trigger("lateStyleInjected.oslc.sextant")});!Modernizr.mq(s.mediaQueries["hand-only"])&&t(i).on("resize.oslc.sextant orientationchange.oslc.sextant",function(){Modernizr.mq(s.mediaQueries["hand-only"])&&e()})},open:function(){this.toggle("open")},close:function(){this.toggle("close")},toggle:function(s){s=s||(this.is_open()?"close":"open");var e="open"===s;console.log(s),t(i).trigger(s+".oslc.sextant"),this.els.allToggled[e?"addClass":"removeClass"](this.classes.open)},set_main_slide_distance:function(t){var i=this.mediaQueries["hand-only"];if(Modernizr.mq(i)){var s="@media "+i,e={};e[s]=["#main."+this.classes.open];var n=t||this.els.nav.outerHeight()+"px",a=Modernizr.csstransforms?Modernizr.prefixed("transform"):"top";a=a.replace(/([A-Z])/g,function(t,i){return"-"+i.toLowerCase()}).replace(/^ms-/,"-ms-");var o={};o[a]=Modernizr.csstransforms?"translate(0,"+n+")":n,vein.inject([e],o),console.log("injecting distance of "+n)}}});n.init(),OSLC.modules.sextant=n}(jQuery,this,this.document),function(t,i,s,e){"use strict";var n=0,a=_.create(OSLC,{classes:{active:"active"},aria:{tab:{off:{"aria-expanded":"false","aria-selected":"false",tabindex:"-1"},on:{"aria-expanded":"true","aria-selected":"true",tabindex:"0"}},tabpanel:{off:{"aria-hidden":"true",tabindex:"-1"},on:{"aria-hidden":"false",tabindex:"0"}}},init:function(i){var s=this;this.el=t(i),this.controls=t(".tab",this.el).each(function(){var i=this.getAttribute("href"),e="whirligig-tab-"+n++;t(this).attr(_.extend({role:"tab",id:e,"aria-controls":i.replace("#","")},s.aria.tab.off)),t(i).attr(_.extend({role:"tabpanel","aria-labelledby":e},s.aria.tabpanel.off))}),this.control_wrap=t(".tabs",this.el).attr("role","tablist"),this.controls_area=t(".controls",this.el),this.indicator=t('<ins class="indicator"></ins>').attr("role","presentation").appendTo(this.control_wrap),this.wrapper=t(".panels",this.el),this.panels=t(".panel",this.el),this.controls.hasClass(this.classes.active)||this.controls.first().addClass(this.classes.active),this.to(this.controls.filter("."+this.classes.active).attr("href"),!1),this.bindings()},bindings:function(){var i=this;this.controls.on("click.oslc.whirligig",function(s){s.preventDefault(),t(this).hasClass(i.classes.active)||i.to(t(this).attr("href"),!0)}).on("keydown.oslc.whirligig",function(s){t.inArray(s.keyCode,[37,38,39,40])>-1&&s.preventDefault(),(37===s.keyCode||38===s.keyCode)&&i.prev(!0),(39===s.keyCode||40===s.keyCode)&&i.next(!0)})},next:function(t){var i=this.panels.filter("."+this.classes.active),s=i.is(this.panels.last())?this.panels.first():i.next();return this.to("#"+s[0].id,t),!1},prev:function(t){var i=this.panels.filter("."+this.classes.active),s=i.is(this.panels.first())?this.panels.last():i.prev();return this.to("#"+s[0].id,t),!1},to:function(i,s){var e,n,a,o,r;e=t(i),n=e.index(),a="-"+100*n+"%",o=this.supportsAcceleratedTransitions?Modernizr.prefixed("transform"):"left",r=this.supportsAcceleratedTransitions?"translate3d("+a+",0,0)":a,e.hasClass(this.classes.active)||(this.el.trigger({type:"slideStart",relatedTarget:e[0]}),this.wrapper.css(o,r).find("> ."+this.classes.active).removeClass(this.classes.active).attr(this.aria.tabpanel.off),e.addClass(this.classes.active).attr(this.aria.tabpanel.on),this.controls.removeClass(this.classes.active).attr(this.aria.tab.off).filter('[href="'+i+'"]').addClass(this.classes.active).attr(this.aria.tab.on),this.move_indicator(),s&&this.controls.filter("."+this.classes.active).focus())},move_indicator:function(){var i,s,e,n,a;i=this.controls.filter("."+this.classes.active),s=i.position().left+"px",e=i.width()-(i.is(":first-child")?0:4)+"px",n=this.supportsAcceleratedTransitions?Modernizr.prefixed("transform"):"left",a=this.supportsAcceleratedTransitions?"translate3d("+s+",0,0)":s,this.supportsTransitions&&this.indicator.filter(":visible").one(this.supportsTransitions.end,function(){t(this).removeClass("moving")}).addClass("moving"),this.indicator.css("width",e).css(n,a)}});t(function(){t("[data-whirligig]").each(function(){t(this).data("whirligig",_.create(a)).data("whirligig").init(this)})}),OSLC.modules.whirligig=a}(jQuery,this,this.document),function(t,i,s,e){"use strict";var n=_.create(OSLC,{els:{nav:t("#nav")},init:function(){this.bindings()},bindings:function(){var s=this.modules.sextant,e=this.els.nav.data("whirligig"),n=this;if(s&&e){this.els.nav.on("slideStart",function(t){n.set_main_slide_distance(t.relatedTarget)});var a=_.once(function(){console.log("fired the resize fixes. shouldnt see this again!"),e.move_indicator(),n.set_main_slide_distance()});t(i).on("open.oslc.sextant lateStyleInjected.oslc.sextant orientationchange.oslc.sextant",function(){Modernizr.mq(OSLC.mediaQueries["hand-only"])&&a()})}},set_main_slide_distance:function(i){var s=this.els.nav.data("whirligig");i=i?t(i):s.panels.filter(".active");var e=s.controls_area.outerHeight()+i.outerHeight()+"px";this.modules.sextant.set_main_slide_distance(e)}});n.init()}(jQuery,this,this.document);